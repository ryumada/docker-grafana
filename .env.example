# Copy to .env and adjust values for your environment.

# --- Shared Networking ---
# Overlay network name (example: grafana)
OVERLAY_NETWORK_NAME=grafana

# --- Loki ---
LOKI_IMAGE=grafana/loki:3.5.5
LOKI_HTTP_PORT=3100
LOKI_NODE_CONSTRAINT=node.labels.role.loki == true
LOKI_REPLICAS=1
# Loki GCS bucket name (example: loki-observability-bucket)
LOKI_GCS_BUCKET=ENTER_LOKI_GCS_BUCKET
# Base64-encoded Loki service account JSON (run `base64 -w 0 file.json`)
LOKI_GCS_SERVICE_ACCOUNT_JSON_B64=ENTER_LOKI_GCS_SERVICE_ACCOUNT_JSON_B64

# --- Mimir ---
MIMIR_IMAGE=grafana/mimir:2.17.1
MIMIR_HTTP_PORT=9009
MIMIR_NODE_CONSTRAINT=node.labels.role.mimir == true
MIMIR_REPLICAS=1
# Mimir metrics bucket (example: mimir-metrics-bucket)
MIMIR_BLOCKS_BUCKET=ENTER_MIMIR_BLOCKS_BUCKET
# Mimir ruler bucket (example: mimir-ruler-bucket)
MIMIR_RULER_BUCKET=ENTER_MIMIR_RULER_BUCKET
# Base64-encoded Mimir service account JSON
MIMIR_GCS_SERVICE_ACCOUNT_JSON_B64=ENTER_MIMIR_GCS_SERVICE_ACCOUNT_JSON_B64

# --- Alertmanager ---
ALERTMANAGER_IMAGE=quay.io/prometheus/alertmanager:v0.28.1
ALERTMANAGER_HTTP_PORT=9093
ALERTMANAGER_NODE_CONSTRAINT=node.labels.role.alertmanager == true
ALERTMANAGER_REPLICAS=1
# Google Chat webhook URL
ALERTMANAGER_GOOGLE_CHAT_WEBHOOK_URL=ENTER_ALERTMANAGER_GOOGLE_CHAT_WEBHOOK_URL

# --- Grafana ---
GRAFANA_IMAGE=grafana/grafana:12.1.0
GRAFANA_ADMIN_USER=admin
# Grafana admin password (change from default)
GRAFANA_ADMIN_PASSWORD=ENTER_GRAFANA_ADMIN_PASSWORD
GRAFANA_FEATURE_TOGGLES=unifiedAlerting
# Grafana domain (example: grafana.example.com)
GRAFANA_DOMAIN=ENTER_GRAFANA_DOMAIN
# Grafana PostgreSQL connection (example host: db.example.com:5432)
GRAFANA_DB_HOST=ENTER_GRAFANA_DB_HOST
GRAFANA_DB_NAME=ENTER_GRAFANA_DB_NAME
GRAFANA_DB_USER=ENTER_GRAFANA_DB_USER
GRAFANA_DB_PASSWORD=ENTER_GRAFANA_DB_PASSWORD
# SSL mode: disable, require, verify-full, etc. (default disable)
GRAFANA_DB_SSL_MODE=disable
GRAFANA_SESSION_PROVIDER=database
GRAFANA_NODE_CONSTRAINT=node.labels.role.grafana == true
GRAFANA_REPLICAS=1

# --- Traefik ---
TRAEFIK_IMAGE=traefik:v3.5.2
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_INSECURE_ENTRYPOINT=web
TRAEFIK_SECURE_ENTRYPOINT=websecure
TRAEFIK_CERT_RESOLVER=letsencrypt
# Email used for ACME/Let's Encrypt
TRAEFIK_ACME_EMAIL=ENTER_TRAEFIK_ACME_EMAIL
TRAEFIK_NODE_CONSTRAINT=node.labels.role.proxy == true

# --- Alloy ---
ALLOY_IMAGE=grafana/alloy:v1.10.2
ALLOY_CLUSTER_NAME=primary
ALLOY_LOKI_ENDPOINT=http://loki:3100/loki/api/v1/push
ALLOY_MIMIR_REMOTE_WRITE_URL=http://mimir:9009/api/v1/push
ALLOY_NODE_CONSTRAINT=node.labels.role.alloy == true
# Comma-separated file log paths collected by Alloy (example:
# /var/log/*log,/var/log/nginx/*.log)
ALLOY_FILE_LOG_PATHS=/var/log/*log
